!function(t){"use strict";function e(t,e,n,r){return(e=e.split?e.split("."):e.slice(0)).slice(0,-1).reduce((function(t,e){return/^(__proto__|constructor|prototype)$/.test(e)?{}:t[e]=t[e]||{}}),t)[e.pop()]=n,t}function n(t,e){return null!=t?t:e}function r(t,e,r,i){return n(n(r[e],i[e]),t)}t.createPersistedStatePlugin=function(t){var n=t||{};return function(t){var i=function(){try{return t.options.persistedState||{}}catch(t){return{}}}();if(!1!==r(!0,"persist",i,n)){var s,o,u=r(t.store.$id,"key",i,{}),c=r(!1,"overwrite",i,n),a=r(function(){try{return window.localStorage}catch(t){return{getItem:function(){},setItem:function(){},removeItem:function(){}}}}(),"storage",i,n),f=r((function(){return!0}),"filter",i,n),d=r(JSON.stringify,"serialize",i,n),l=r(JSON.parse,"deserialize",i,n),p=r((function(t){return t}),"migrate",i,{}),P=r((function(t,e){return e}),"merge",i,{}),m=(r((function(t){var e=t.setItem("@@","1"),n=function(){t.removeItem("@@")};e instanceof Promise?e.then(n):n()}),"assertStorage",i,n),new Promise((function(t){s=t}))),h=0;t.store.$persistedState={isReady:function(){return m},pending:!1};try{(o=a.getItem(u))instanceof Promise?o.then(v):v(o)}catch(t){s()}t.store.$subscribe((function(n,r){if(!1!==f(n,r)){Array.isArray(i.includePaths)&&(r=i.includePaths.reduce((function(t,n){return e(t,n,function(t,e,n){return void 0===(t=(e.split?e.split("."):e).reduce((function(t,e){return t&&t[e]}),t))?n:t}(r,n,void 0))}),{})),Array.isArray(i.excludePaths)&&(r=l(d(r)),i.excludePaths.forEach((function(t){return e(r,t,void 0)}),{}));var s=d(r),o=a.setItem(u,s);o instanceof Promise&&(++h,t.store.$persistedState.pending=0!==h,o.catch((function(){})).finally((function(){--h,t.store.$persistedState.pending=0!==h})))}}))}function g(e){(i.beforeHydrate||function(){})(t.store.$state);var n=P(t.store.$state,e);c?t.store.$state=n:t.store.$patch(n),s()}function v(t){if(null!=t){var e=l(t),n=p(e);n instanceof Promise?n.then(g):g(n)}else s()}}}}(this.PiniaPluginPersistedstate_2=this.PiniaPluginPersistedstate_2||{});
